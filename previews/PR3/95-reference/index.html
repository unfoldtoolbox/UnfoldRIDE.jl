<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · UnfoldRIDE.jl</title><meta name="title" content="Reference · UnfoldRIDE.jl"/><meta property="og:title" content="Reference · UnfoldRIDE.jl"/><meta property="twitter:title" content="Reference · UnfoldRIDE.jl"/><meta name="description" content="Documentation for UnfoldRIDE.jl."/><meta property="og:description" content="Documentation for UnfoldRIDE.jl."/><meta property="twitter:description" content="Documentation for UnfoldRIDE.jl."/><meta property="og:url" content="https://unfoldtoolbox.github.io/UnfoldRIDE.jl/95-reference/"/><meta property="twitter:url" content="https://unfoldtoolbox.github.io/UnfoldRIDE.jl/95-reference/"/><link rel="canonical" href="https://unfoldtoolbox.github.io/UnfoldRIDE.jl/95-reference/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">UnfoldRIDE.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">UnfoldRIDE.jl Documentation</a></li><li><a class="tocitem" href="../10-data_simulation/">Simulation with Variable Latency Components</a></li><li><a class="tocitem" href="../11-running_ride/">Running Classic and Unfold RIDE</a></li><li><a class="tocitem" href="../90-contributing/">Contributing guidelines</a></li><li><a class="tocitem" href="../91-developer/">Developer documentation</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/main/docs/src/95-reference.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="reference"><a class="docs-heading-anchor" href="#reference">Reference</a><a id="reference-1"></a><a class="docs-heading-anchor-permalink" href="#reference" title="Permalink"></a></h1><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="#reference">Reference</a></li><li class="no-marker"><ul><li><a href="#Contents">Contents</a></li><li><a href="#Index">Index</a></li></ul></li></ul><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#UnfoldRIDE.AbstractMode"><code>UnfoldRIDE.AbstractMode</code></a></li><li><a href="#UnfoldRIDE.ClassicMode"><code>UnfoldRIDE.ClassicMode</code></a></li><li><a href="#UnfoldRIDE.RideConfig"><code>UnfoldRIDE.RideConfig</code></a></li><li><a href="#UnfoldRIDE.RideResults"><code>UnfoldRIDE.RideResults</code></a></li><li><a href="#UnfoldRIDE.UnfoldMode"><code>UnfoldRIDE.UnfoldMode</code></a></li><li><a href="#UnfoldRIDE.build_c_evts_table-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.build_c_evts_table</code></a></li><li><a href="#UnfoldRIDE.build_c_evts_table-Tuple{Vector, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.build_c_evts_table</code></a></li><li><a href="#UnfoldRIDE.c_range_adjusted-Tuple{Vector{Float64}}"><code>UnfoldRIDE.c_range_adjusted</code></a></li><li><a href="#UnfoldRIDE.create_results-Tuple{Any, Vector, Vector, Vector, Vector, Any, RideConfig}"><code>UnfoldRIDE.create_results</code></a></li><li><a href="#UnfoldRIDE.dspfilter-Tuple{Vector{Float64}, Int64, Int64}"><code>UnfoldRIDE.dspfilter</code></a></li><li><a href="#UnfoldRIDE.findxcorrpeak-Tuple{VecOrMat{Float64}, Vector{Float64}}"><code>UnfoldRIDE.findxcorrpeak</code></a></li><li><a href="#UnfoldRIDE.heuristic1_monoton_latency_changes!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>UnfoldRIDE.heuristic1_monoton_latency_changes!</code></a></li><li><a href="#UnfoldRIDE.heuristic2_randomize_latency_on_convex_xcorr!"><code>UnfoldRIDE.heuristic2_randomize_latency_on_convex_xcorr!</code></a></li><li><a href="#UnfoldRIDE.heuristic3_pick_closest_xcorr_peak!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, Vector{Vector{Float64}}}"><code>UnfoldRIDE.heuristic3_pick_closest_xcorr_peak!</code></a></li><li><a href="#UnfoldRIDE.initial_peak_estimation-Tuple{Array{Float64}, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.initial_peak_estimation</code></a></li><li><a href="#UnfoldRIDE.initial_peak_estimation-Tuple{Matrix{Float64}, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.initial_peak_estimation</code></a></li><li><a href="#UnfoldRIDE.pad_erp_to_epoch_size-Tuple{Vector{Float64}, Int64, RideConfig}"><code>UnfoldRIDE.pad_erp_to_epoch_size</code></a></li><li><a href="#UnfoldRIDE.save_interim_results!-Tuple{Vector{Vector}, Any, Matrix, Matrix, Matrix, Matrix, Vector, RideConfig}"><code>UnfoldRIDE.save_interim_results!</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.AbstractMode" href="#UnfoldRIDE.AbstractMode"><code>UnfoldRIDE.AbstractMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractMode</code></pre><p>An abstract type that defines different modes of the RIDE algorithm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_structs.jl#L68-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.ClassicMode" href="#UnfoldRIDE.ClassicMode"><code>UnfoldRIDE.ClassicMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ClassicMode &lt;: AbstractMode</code></pre><p>A struct representing the ClassicMode of RIDE. Pass it to the RIDE algorithm to      run in Classic mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_structs.jl#L75-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.RideConfig" href="#UnfoldRIDE.RideConfig"><code>UnfoldRIDE.RideConfig</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@with_kw struct RideConfig</code></pre><p>A struct holding the configuration values of the RIDE algorithm.</p><p><strong>Fields</strong></p><ul><li><code>sfreq::Int</code>: The sampling frequency of the data.</li><li><code>s_range::Vector{Float64}</code>: The range of the S component. Usually determined</li></ul><p>through manual inspection of the data.</p><ul><li><code>r_range::Vector{Float64}</code>: The range of the R component. Usually determined</li></ul><p>through manual inspection of the data.</p><ul><li><code>c_range::Vector{Float64}</code>: The range of the C component. Usually determined</li></ul><p>through manual inspection of the data.</p><ul><li><code>c_estimation_range::Vector{Float64}</code>: The range used for the intial C </li></ul><p>component latency estimation through peak picking.</p><ul><li><code>epoch_range::Vector{Float64}</code>: The range of one epoch centered around the stimulus onset.</li><li><code>iteration_limit::Int = 4</code>: The maximum number of iterations of the RIDE algorithm. This </li></ul><p>is for the outer decomposition-latency estimation loop.</p><ul><li><code>heuristic1::Bool = true</code>: A flag to enable/disable heuristic 1. This heursitic ensures a </li></ul><p>monoton latency evolution.</p><ul><li><code>heuristic2::Bool = true</code>: A flag to enable/disable heuristic 2. This heuristic randomizes</li></ul><p>and fixes a latency on encountering a convex xcorrelation result.</p><ul><li><code>heuristic2_rng = MersenneTwister(1234)</code>: The random number generator used for heuristic 2.</li><li><code>heuristic3::Bool = true</code>: A flag to enable/disable heuristic 3. This heuristic searches for</li></ul><p>competing peaks in the xcorrelation results. The peak closest to the previous latency is chosen.</p><ul><li><code>heuristic3_threshhold::Float64 = 0.9</code>: The threshold used for heuristic 3. If the peak is</li></ul><p>below this threshold * the maximum peak, it is considered a competing peak.</p><ul><li><code>filtering::Bool = true</code>: A flag to enable/disable filtering of the data before performing the </li></ul><p>cross correlation.</p><ul><li><code>save_interim_results::Bool = false</code>: A flag to enable/disable saving the interim results of</li></ul><p>each iteration of the RIDE algorithm.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">cfg = RideConfig(
    sfreq = 100,
    s_range = [-0.2, 0.4],
    r_range = [0, 0.8],
    c_range = [-0.4, 0.4],
    c_estimation_range = [-0.1, 0.9],
    epoch_range = [-0.3, 1.6],
    iteration_limit = 5,
    heuristic1 = true,
    heuristic2 = true,
    heuristic3 = true,
    save_interim_results = true,
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_structs.jl#L1-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.RideResults" href="#UnfoldRIDE.RideResults"><code>UnfoldRIDE.RideResults</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@with_kw mutable struct RideResults</code></pre><p>A struct holding the results of a single run of the RIDE algorithm.</p><p><strong>Fields</strong></p><ul><li><code>interim_results::Vector{RideResults}</code>: A vector of <code>RideResults</code> structs that </li></ul><p>hold the interim results of each iteration of the RIDE algorithm. This field is  only filled when the algorithm is run with the <code>save_interim_results</code> flag.</p><ul><li><code>raw_erp::Array{Float64}</code>: The raw ERP.</li><li><code>s_erp::Array{Float64}</code>: The ERP of the S component.</li><li><code>r_erp::Array{Float64}</code>: The ERP of the R component.</li><li><code>c_erp::Array{Float64}</code>: The ERP of the C component.</li><li><code>s_erp_unpadded::Array{Float64}</code>: The ERP of the S component, unpadded.</li><li><code>r_erp_unpadded::Array{Float64}</code>: The ERP of the R component, unpadded.</li><li><code>c_erp_unpadded::Array{Float64}</code>: The ERP of the C component, unpadded.</li><li><code>c_latencies::Array{Int64}</code>: The latencies of the C component from the stimulus </li></ul><p>onset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_structs.jl#L91-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.UnfoldMode" href="#UnfoldRIDE.UnfoldMode"><code>UnfoldRIDE.UnfoldMode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct UnfoldMode &lt;: AbstractMode</code></pre><p>A struct representing the UnfoldMode of RIDE. Pass it to the RIDE algorithm to      run in Unfold mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_structs.jl#L83-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.build_c_evts_table-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, RideConfig}" href="#UnfoldRIDE.build_c_evts_table-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.build_c_evts_table</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_c_evts_table(latencies_df::DataFrame, evts, cfg::RideConfig)</code></pre><p>Create C event table by copying S and adding the estimated latency.</p><p><strong>Arguments</strong></p><ul><li><code>latencies_df::DataFrame</code>: DataFrame containing the Latency field. Latencies from epoch start are expected.</li><li><code>evts::DataFrame</code>: Event table. S events are extracted from this table.</li></ul><p><strong>Returns</strong></p><ul><li><code>evts_c::DataFrame</code> : New event table containing only the C events.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L137-L148">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.build_c_evts_table-Tuple{Vector, DataFrames.DataFrame, RideConfig}" href="#UnfoldRIDE.build_c_evts_table-Tuple{Vector, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.build_c_evts_table</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_c_evts_table(latencies_df_vector::Vector, evts::DataFrame, cfg::RideConfig)</code></pre><p>Create C event table by copying S and adding the estimated latency.</p><p>This version is used for multi channel data. It calculates the mean of all channels as the estimated latencies.</p><p><strong>Arguments</strong></p><ul><li><code>latencies_df_vector::Vector</code>: Vector of DataFrames containing the Latency field. Latencies from epoch start are expected.</li><li><code>evts::DataFrame</code>: Event table. S events are extracted from this table.</li></ul><p><strong>Returns</strong></p><ul><li><code>evts_c::DataFrame</code> : New event table containing only the C events.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L112-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.c_range_adjusted-Tuple{Vector{Float64}}" href="#UnfoldRIDE.c_range_adjusted-Tuple{Vector{Float64}}"><code>UnfoldRIDE.c_range_adjusted</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">c_range_adjusted(c_range::Vector{Float64})</code></pre><p>Helper Function to adjust the c<em>range to be from 0 to the difference of the original c</em>range. This simplifies several of the algorithms functions without the need to create a new variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L102-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.create_results-Tuple{Any, Vector, Vector, Vector, Vector, Any, RideConfig}" href="#UnfoldRIDE.create_results-Tuple{Any, Vector, Vector, Vector, Vector, Any, RideConfig}"><code>UnfoldRIDE.create_results</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_results(evts, raw_erp::Vector, s_erp::Vector, r_erp::Vector, c_erp::Vector, c_latencies_df, cfg::RideConfig)</code></pre><p>Create a RideResults object from the given parameters. Pads component erps to be the same length as one epoch. Result also includes unpadded versions. Changes the c_latencies to be from stimulus onset instead of epoch start.</p><p><strong>Returns</strong></p><ul><li><code>result::RideResults</code> : The created RideResults object, the interim_results field is left empty.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L351-L360">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.dspfilter-Tuple{Vector{Float64}, Int64, Int64}" href="#UnfoldRIDE.dspfilter-Tuple{Vector{Float64}, Int64, Int64}"><code>UnfoldRIDE.dspfilter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dspfilter(signal_to_filter::Vector{Float64}, filter_at::Int64, sampling_rate::Int64)</code></pre><p>Filter the given signal with a lowpass filter at the given sampling rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L293-L297">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.findxcorrpeak-Tuple{VecOrMat{Float64}, Vector{Float64}}" href="#UnfoldRIDE.findxcorrpeak-Tuple{VecOrMat{Float64}, Vector{Float64}}"><code>UnfoldRIDE.findxcorrpeak</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">findxcorrpeak(d::Matrix, kernel::Vector; window = false)</code></pre><p>Calculate the cross correlation between the data and the kernel for each epoch and find the peak.</p><p><strong>Arguments</strong></p><ul><li><code>data::Matrix{Float64}</code>: Input data in shape (samples, epochs)</li><li><code>kernel::Vector{Float64}</code>: Kernel to cross correlate with the data.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>window::Bool = false</code>: Apply a Hanning window to the kernel before cross-correlation,    favoring central values of the kernel.</li></ul><p><strong>Returns</strong></p><ul><li><code>xc::Vector{Vector{Float64}}</code> : Cross correlation result per epoch.</li><li><code>maxima::Vector{Int}</code> : Maxima of the cross correlation per epoch.</li><li><code>onset::Int</code> : Onset of the kernel.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L1-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.heuristic1_monoton_latency_changes!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}" href="#UnfoldRIDE.heuristic1_monoton_latency_changes!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>UnfoldRIDE.heuristic1_monoton_latency_changes!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">heuristic1_monoton_latency_changes!(latencies_df::DataFrame, latencies_df_old::DataFrame, latencies_df_old_old::DataFrame)</code></pre><p>Assure tha the changes in the latencies are monoton, i.e. they always change in one direction. If a non monoton change is detected, revert the change and set the latency as fixed in the DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>latencies_df::DataFrame</code>: The current latencies DataFrame.</li><li><code>latencies_df_old::DataFrame</code>: The previous latencies DataFrame, used to calculate the new change in latency.</li><li><code>latencies_df_old_old::DataFrame</code>: The latencies DataFrame before the previous one, used to calculate the previous change in latency.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L163-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.heuristic2_randomize_latency_on_convex_xcorr!" href="#UnfoldRIDE.heuristic2_randomize_latency_on_convex_xcorr!"><code>UnfoldRIDE.heuristic2_randomize_latency_on_convex_xcorr!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">heuristic2_randomize_latency_on_convex_xcorr!(latencies_df, latencies_df_old, xcorr, rng = MersenneTwister(1234),)</code></pre><p>Assure that the cross correlation is not convex, randomize the latency if it is.</p><p>Check if the cross correlation is convex by searching for peaks in the cross correlation. When no peak is found, the xcorrelation is considered convex and  the latency is randomized with a gaussian distribution over the previous latencies.</p><p><strong>Arguments</strong></p><ul><li><code>latencies_df::DataFrame</code>: The current latencies DataFrame.</li><li><code>latencies_df_old::DataFrame</code>: The previous latencies DataFrame.    Used to calculate the gaussian distribution for the randomization.</li><li><code>xcorr::Vector{Vector{Float64}}</code>: Cross correlation results for every epoch.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>rng::AbstractRNG = MersenneTwister(1234)</code>: RNG used for random latency generation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L193-L210">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.heuristic3_pick_closest_xcorr_peak!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, Vector{Vector{Float64}}}" href="#UnfoldRIDE.heuristic3_pick_closest_xcorr_peak!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, Vector{Vector{Float64}}}"><code>UnfoldRIDE.heuristic3_pick_closest_xcorr_peak!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">heuristic3_pick_closest_xcorr_peak!(latencies_df::DataFrame, latencies_df_old::DataFrame, xcorr::Vector{Vector{Float64}}; equality_threshold::Float64 = 0.9, onset::Int64 = 0)</code></pre><p>Check for multiple &quot;competing&quot; peaks in the cross correlation and pick the closest one to the previous latency.</p><p>Any peak with a value &gt; maximum * equality_threshold is considered a competing peak. Latencies marked as fixed are skipped.</p><p><strong>Arguments</strong></p><ul><li><code>latencies_df::DataFrame</code>: The current latencies DataFrame.</li><li><code>latencies_df_old::DataFrame</code>: The previous latencies DataFrame.    Necessary to calculate the closest peak to the previous latency.</li><li><code>xcorr::Vector{Vector{Float64}}</code>: Cross correlation results for every epoch.</li></ul><p><strong>Keyword arguments (if needed)</strong></p><ul><li><code>equality_threshold::Float64 = 0.9</code>: Threshold to determine which peaks are considered as competing.   Any peak with a value &gt; maximum * equality_threshold is considered a competing peak, with maximum being the highest peak.   The threshold must be between 0 and 1.</li><li><code>onset::Int64 = 0</code>: Onset of the kernel used in the cross correlation. Used to bring the latencies into the proper format.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L238-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.initial_peak_estimation-Tuple{Array{Float64}, DataFrames.DataFrame, RideConfig}" href="#UnfoldRIDE.initial_peak_estimation-Tuple{Array{Float64}, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.initial_peak_estimation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initial_peak_estimation(data_continous::Array{Float64}, evts::DataFrame, cfg::RideConfig)</code></pre><p>Estimates the C latencies of every epoch using peak picking in the given cfg.c<em>estimation</em>range. The resulting latencies are from the start of the epoch to the beginning of the c_range.</p><p><strong>Arguments</strong></p><ul><li><code>data_continous::Array{Float64}</code>: Continous data on which the peak picking is performed.</li><li><code>evts::DataFrame</code>: Event table. S events are extracted from this table.</li><li><code>cfg::RideConfig</code>: Configuration for the RIDE algorithm.</li></ul><p><strong>Returns</strong></p><ul><li><code>latencies_df::DataFrame</code> : DataFrame containing the estimated latencies for every epoch and a fixed=false column. Latencies are from the start of the epoch to the beginning of the c_range.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L59-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.initial_peak_estimation-Tuple{Matrix{Float64}, DataFrames.DataFrame, RideConfig}" href="#UnfoldRIDE.initial_peak_estimation-Tuple{Matrix{Float64}, DataFrames.DataFrame, RideConfig}"><code>UnfoldRIDE.initial_peak_estimation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initial_peak_estimation(data_continous::Matrix{Float64}, evts::DataFrame, cfg::RideConfig)</code></pre><p>Multi channel version of initial<em>peak</em>estimation.</p><p><strong>Arguments</strong></p><ul><li><code>data_continous::Matrix{Float64}</code>: Input data ins shape (channels, samples).</li><li><code>evts::DataFrame</code>: Event table. S events are extracted from this table.</li><li><code>cfg::RideConfig</code>: Configuration for the RIDE algorithm.</li></ul><p><strong>Returns</strong></p><ul><li><code>latencies_df_vector::Vector{DataFrame}</code> : Vector of DataFrames containing the estimated latencies for every channel. Latencies are from the start of the epoch to the beginning of the c_range.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L34-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.pad_erp_to_epoch_size-Tuple{Vector{Float64}, Int64, RideConfig}" href="#UnfoldRIDE.pad_erp_to_epoch_size-Tuple{Vector{Float64}, Int64, RideConfig}"><code>UnfoldRIDE.pad_erp_to_epoch_size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pad_erp_to_epoch_size(erp::Vector{Float64}, latency_from_epoch_start::Int64, cfg::RideConfig)</code></pre><p>Pad the given erp to the epoch size using the given latency.</p><p><strong>Returns</strong></p><ul><li><code>padded_erp::Vector{Float64}</code> : A new padded erp.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L404-L411">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnfoldRIDE.save_interim_results!-Tuple{Vector{Vector}, Any, Matrix, Matrix, Matrix, Matrix, Vector, RideConfig}" href="#UnfoldRIDE.save_interim_results!-Tuple{Vector{Vector}, Any, Matrix, Matrix, Matrix, Matrix, Vector, RideConfig}"><code>UnfoldRIDE.save_interim_results!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save_interim_results!(results_vector::Vector{Vector}, evts, raw_erp::Matrix, s_erp::Matrix, r_erp::Matrix, c_erp::Matrix, c_latencies_df::Vector, cfg::RideConfig)</code></pre><p>Helper function to create a RideResults object for every channel and add it to the given results_vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/unfoldtoolbox/UnfoldRIDE.jl/blob/bd764f28b0d17bd9ae5f59ad07de752831b49cd4/src/ride/ride_shared_methods.jl#L322-L326">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../91-developer/">« Developer documentation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 3 June 2025 12:59">Tuesday 3 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
